import{k as b,R as ee,Q as te,v as _,s as oe,r as d,j as e,O as C,i as c,o as r,w as u,S as O,P as w,B as J,aG as H,b as R,az as se,cW as T,aD as X,K as $,aB as q,aC as S,aI as ae,T as ne,U as le,f as re,V as ie,W as ue,aL as de,aM as U,g as W,h as G,n as h,ce,aw as pe,d as F,t as I,c as M,a as fe,Y as me}from"./Bdt3oPQx.js";import{i as K,k as ve,f as ye,d as ge,c as $e}from"./By-TetZO.js";const[D,Oe]=ee("DialogRoot"),be=b({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(s,{emit:l}){const t=s,o=te(t,"open",l,{defaultValue:t.defaultOpen,passive:t.open===void 0}),m=_(),g=_(),{modal:f}=oe(t);return Oe({open:o,modal:f,openModal:()=>{o.value=!0},onOpenChange:i=>{o.value=i},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:m,contentElement:g}),(i,n)=>d(i.$slots,"default",{open:e(o),close:()=>o.value=!1})}}),Be=b({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(s){const l=s;C();const t=D();return(a,o)=>(r(),c(e(w),O(l,{type:a.as==="button"?"button":void 0,onClick:o[0]||(o[0]=m=>e(t).onOpenChange(!1))}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["type"]))}}),Z=b({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:l}){const t=s,a=l,o=D(),{forwardRef:m,currentElement:g}=C();return o.titleId||(o.titleId=K(void 0,"reka-dialog-title")),o.descriptionId||(o.descriptionId=K(void 0,"reka-dialog-description")),J(()=>{o.contentElement=g,H()!==document.body&&(o.triggerElement.value=H())}),(f,i)=>(r(),c(e(ye),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:i[5]||(i[5]=n=>a("openAutoFocus",n)),onUnmountAutoFocus:i[6]||(i[6]=n=>a("closeAutoFocus",n))},{default:u(()=>[R(e(se),O({id:e(o).contentId,ref:e(m),as:f.as,"as-child":f.asChild,"disable-outside-pointer-events":f.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(o).descriptionId,"aria-labelledby":e(o).titleId,"data-state":e(ve)(e(o).open.value)},f.$attrs,{onDismiss:i[0]||(i[0]=n=>e(o).onOpenChange(!1)),onEscapeKeyDown:i[1]||(i[1]=n=>a("escapeKeyDown",n)),onFocusOutside:i[2]||(i[2]=n=>a("focusOutside",n)),onInteractOutside:i[3]||(i[3]=n=>a("interactOutside",n)),onPointerDownOutside:i[4]||(i[4]=n=>a("pointerDownOutside",n))}),{default:u(()=>[d(f.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Ce=b({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:l}){const t=s,a=l,o=D(),m=T(a),{forwardRef:g,currentElement:f}=C();return ge(f),(i,n)=>(r(),c(Z,O({...t,...e(m)},{ref:e(g),"trap-focus":e(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:n[0]||(n[0]=v=>{var p;v.defaultPrevented||(v.preventDefault(),(p=e(o).triggerElement.value)==null||p.focus())}),onPointerDownOutside:n[1]||(n[1]=v=>{const p=v.detail.originalEvent,y=p.button===0&&p.ctrlKey===!0;(p.button===2||y)&&v.preventDefault()}),onFocusOutside:n[2]||(n[2]=v=>{v.preventDefault()})}),{default:u(()=>[d(i.$slots,"default")]),_:3},16,["trap-focus"]))}}),De=b({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:l}){const t=s,o=T(l);C();const m=D(),g=_(!1),f=_(!1);return(i,n)=>(r(),c(Z,O({...t,...e(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:n[0]||(n[0]=v=>{var p;v.defaultPrevented||(g.value||(p=e(m).triggerElement.value)==null||p.focus(),v.preventDefault()),g.value=!1,f.value=!1}),onInteractOutside:n[1]||(n[1]=v=>{var B;v.defaultPrevented||(g.value=!0,v.detail.originalEvent.type==="pointerdown"&&(f.value=!0));const p=v.target;((B=e(m).triggerElement.value)==null?void 0:B.contains(p))&&v.preventDefault(),v.detail.originalEvent.type==="focusin"&&f.value&&v.preventDefault()})}),{default:u(()=>[d(i.$slots,"default")]),_:3},16))}}),he=b({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:l}){const t=s,a=l,o=D(),m=T(a),{forwardRef:g}=C();return(f,i)=>(r(),c(e(X),{present:f.forceMount||e(o).open.value},{default:u(()=>[e(o).modal.value?(r(),c(Ce,O({key:0,ref:e(g)},{...t,...e(m),...f.$attrs}),{default:u(()=>[d(f.$slots,"default")]),_:3},16)):(r(),c(De,O({key:1,ref:e(g)},{...t,...e(m),...f.$attrs}),{default:u(()=>[d(f.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Q=b({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(s){const l=s;C();const t=D();return(a,o)=>(r(),c(e(w),O(l,{id:e(t).descriptionId}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["id"]))}}),we=b({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(s){const l=D();return $e(!0),C(),(t,a)=>(r(),c(e(w),{as:t.as,"as-child":t.asChild,"data-state":e(l).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:u(()=>[d(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),ke=b({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(s){const l=D(),{forwardRef:t}=C();return(a,o)=>{var m;return(m=e(l))!=null&&m.modal.value?(r(),c(e(X),{key:0,present:a.forceMount||e(l).open.value},{default:u(()=>[R(we,O(a.$attrs,{ref:e(t),as:a.as,"as-child":a.asChild}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):$("",!0)}}}),Y=b({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(s){const l=s,t=D();return C(),(a,o)=>(r(),c(e(w),O(l,{id:e(t).titleId}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["id"]))}}),Ee=b({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(s){const l=s,t=D(),{forwardRef:a,currentElement:o}=C();return t.contentId||(t.contentId=K(void 0,"reka-dialog-content")),J(()=>{t.triggerElement.value=o.value}),(m,g)=>(r(),c(e(w),O(l,{ref:e(a),type:m.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value||!1,"aria-controls":e(t).open.value?e(t).contentId:void 0,"data-state":e(t).open.value?"open":"closed",onClick:e(t).onOpenToggle}),{default:u(()=>[d(m.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),Pe=b({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(s){const l=s;return(t,a)=>(r(),c(e(ae),q(S(l)),{default:u(()=>[d(t.$slots,"default")]),_:3},16))}}),Ae={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default"}}}},_e={__name:"Modal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(s,{emit:l}){const t=s,a=l,o=ne(),{t:m}=le(),g=re(),f=ie(ue(t,"open","defaultOpen","modal"),a),i=de(U(()=>t.portal)),n=U(()=>t.content),v=W(()=>{const y={closeAutoFocus:B=>B.preventDefault()};return t.dismissible?y:["pointerDownOutside","interactOutside","escapeKeyDown","closeAutoFocus"].reduce((k,E)=>(k[E]=P=>{P.preventDefault(),a("close:prevent")},k),{})}),p=W(()=>{var y;return G({extend:G(Ae),...((y=g.ui)==null?void 0:y.modal)||{}})({transition:t.transition,fullscreen:t.fullscreen})});return(y,B)=>(r(),c(e(be),q(S(e(f))),{default:u(({open:k})=>[o.default?(r(),c(e(Ee),{key:0,"as-child":"",class:h(t.class)},{default:u(()=>[d(y.$slots,"default",{open:k})]),_:2},1032,["class"])):$("",!0),R(e(Pe),q(S(e(i))),{default:u(()=>{var E,P;return[s.overlay?(r(),c(e(ke),{key:0,class:h(p.value.overlay({class:(E=t.ui)==null?void 0:E.overlay}))},null,8,["class"])):$("",!0),R(e(he),O({class:p.value.content({class:[!o.default&&t.class,(P=t.ui)==null?void 0:P.content]})},n.value,{onAfterEnter:B[0]||(B[0]=A=>a("after:enter")),onAfterLeave:B[1]||(B[1]=A=>a("after:leave"))},ce(v.value)),{default:u(()=>[o.content&&(s.title||o.title||s.description||o.description)?(r(),c(e(pe),{key:0},{default:u(()=>[s.title||o.title?(r(),c(e(Y),{key:0},{default:u(()=>[d(y.$slots,"title",{},()=>[F(I(s.title),1)])]),_:3})):$("",!0),s.description||o.description?(r(),c(e(Q),{key:1},{default:u(()=>[d(y.$slots,"description",{},()=>[F(I(s.description),1)])]),_:3})):$("",!0)]),_:3})):$("",!0),d(y.$slots,"content",{},()=>{var A,V,j;return[o.header||s.title||o.title||s.description||o.description||s.close||o.close?(r(),M("div",{key:0,class:h(p.value.header({class:(A=t.ui)==null?void 0:A.header}))},[d(y.$slots,"header",{},()=>{var x,L,N;return[fe("div",{class:h(p.value.wrapper({class:(x=t.ui)==null?void 0:x.wrapper}))},[s.title||o.title?(r(),c(e(Y),{key:0,class:h(p.value.title({class:(L=t.ui)==null?void 0:L.title}))},{default:u(()=>[d(y.$slots,"title",{},()=>[F(I(s.title),1)])]),_:3},8,["class"])):$("",!0),s.description||o.description?(r(),c(e(Q),{key:1,class:h(p.value.description({class:(N=t.ui)==null?void 0:N.description}))},{default:u(()=>[d(y.$slots,"description",{},()=>[F(I(s.description),1)])]),_:3},8,["class"])):$("",!0)],2),s.close||o.close?(r(),c(e(Be),{key:0,"as-child":""},{default:u(()=>[d(y.$slots,"close",{ui:p.value},()=>{var z;return[s.close?(r(),c(me,O({key:0,icon:s.closeIcon||e(g).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":e(m)("modal.close")},typeof s.close=="object"?s.close:{},{class:p.value.close({class:(z=t.ui)==null?void 0:z.close})}),null,16,["icon","aria-label","class"])):$("",!0)]})]),_:3})):$("",!0)]})],2)):$("",!0),o.body?(r(),M("div",{key:1,class:h(p.value.body({class:(V=t.ui)==null?void 0:V.body}))},[d(y.$slots,"body")],2)):$("",!0),o.footer?(r(),M("div",{key:2,class:h(p.value.footer({class:(j=t.ui)==null?void 0:j.footer}))},[d(y.$slots,"footer")],2)):$("",!0)]})]),_:3},16,["class"])]}),_:3},16)]),_:3},16))}};export{_e as _};
