import{_ as K}from"./DJc-qFf6.js";import{_ as $}from"./BxXEQc89.js";import{k,v as u,g,c as v,o as _,a,i as M,b as l,j as t,a0 as m,Y as N,w as b,t as h,X as T,_ as z}from"./Bdt3oPQx.js";import{_ as E}from"./5e5F26OJ.js";import{m as p}from"./CehikpY4.js";import{u as F}from"./rVIyH-S1.js";import{u as j}from"./YhHHmAl6.js";import"./By-TetZO.js";import"./vVQ4po60.js";import"./CHIgUVhi.js";import"./Dlsi226R.js";import"./Bp9vj24c.js";import"./BNDzZfAd.js";import"./CwNombFT.js";import"./1rqy2HNY.js";import"./CnqViFtj.js";import"./CdmufGkO.js";const A={class:"w-full grid md:grid-cols-6 gap-3 mt-5"},C={class:"flex items-center justify-end gap-2 mt-8 mb-2"},O=k({__name:"behavioralIssue",setup(y){const r=F(),{getArabicDayName:c}=j(),n=u(""),w=u(Math.random()),x=new Date().getMonth(),i=u(p[x]),D=[{accessorKey:"rowNumber",header:"الرقم"},{accessorKey:"teacher_name",header:"اسم المعلم"},{accessorKey:"date",header:"اليوم",cell:({row:o})=>c(String(o.original.date))},{accessorKey:"date",header:"تاريخ المخالفة"},{accessorKey:"description",header:"الوصف"},{id:"action"}];function B(o){return[[{label:"Edit",icon:"i-lucide-edit",onSelect:()=>{T(`/teachers/${o.id}/edit_behavioral_issue`)}},{label:"Delete",icon:"i-lucide-trash",color:"error",onSelect:()=>{r.deleteTeacherBehavioralIssue(typeof o.id=="number"?o.id:0)}}]]}const I=g(()=>r.sortedIssues.filter(o=>new Date(o.date??new Date).getMonth()===p.indexOf(i.value))),d=g(()=>I.value.map((o,e)=>({...o,rowNumber:e+1})));return(o,e)=>{const V=K,S=$,f=N,U=E;return _(),v("div",null,[a("div",A,[l(V,{icon:"i-lucide-search",size:"lg",color:"secondary",variant:"outline",modelValue:t(n),"onUpdate:modelValue":e[0]||(e[0]=s=>m(n)?n.value=s:null),placeholder:"البحث عن معلم...",class:"w-full md:col-span-4"},null,8,["modelValue"]),l(S,{modelValue:t(i),"onUpdate:modelValue":e[1]||(e[1]=s=>m(i)?i.value=s:null),items:t(p),size:"lg",color:"secondary",class:"w-full"},null,8,["modelValue","items"])]),a("div",C,[l(f,{icon:"heroicons-document-chart-bar-solid",variant:"outline",color:"secondary",size:"sm",class:"p-2 font-bold text-blue-700"},{default:b(()=>[e[3]||(e[3]=a("span",null,"تصدير",-1)),a("span",null,"("+h(t(d).length)+")",1),e[4]||(e[4]=a("span",null," PDF ",-1))]),_:1,__:[3,4]}),l(f,{icon:"heroicons-document-chart-bar-solid",variant:"outline",color:"primary",size:"sm",class:"p-2 font-bold text-green-700"},{default:b(()=>[e[5]||(e[5]=a("span",null,"تصدير",-1)),a("span",null,"("+h(t(d).length)+")",1),e[6]||(e[6]=a("span",null," Excel ",-1))]),_:1,__:[5,6]})]),(_(),M(U,{loading:t(r).loading,key:t(w),"global-filter":t(n),"onUpdate:globalFilter":e[2]||(e[2]=s=>m(n)?n.value=s:null),data:t(d),columns:D,"get-dropdown-actions":B},null,8,["loading","global-filter","data"]))])}}}),P={};function R(y,r){const c=O;return _(),v("div",null,[l(c)])}const re=z(P,[["render",R]]);export{re as default};
