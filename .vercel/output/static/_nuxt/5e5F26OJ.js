import{av as ne,R as De,k as M,g as A,ax as We,B as Ze,C as Qe,i as R,o as h,w as S,b as C,j as s,P as $,r as F,F as Ye,O as Ge,Q as Xe,K as O,S as de,a5 as er,a6 as rr,N as Le,aD as ar,a7 as ge,T as tr,a8 as ir,f as or,a9 as nr,W as sr,aa as lr,ab as ur,h as ye,a as se,c as le,n as k,l as he,d as Se,t as U,cV as I,m as dr,co as cr,a1 as qe,v as fr,Y as br,a0 as vr}from"./Bdt3oPQx.js";import{i as ue}from"./CHIgUVhi.js";import{u as mr}from"./vVQ4po60.js";import{i as pr,g as gr,w as yr,f as hr,_ as Sr}from"./Dlsi226R.js";import{i as qr}from"./By-TetZO.js";import{_ as wr}from"./BNDzZfAd.js";import{_ as we}from"./CwNombFT.js";import{_ as Tr}from"./1rqy2HNY.js";function Te(r,a){return ue(r)?!1:Array.isArray(r)?r.some(e=>ne(e,a)):ne(r,a)}const[Rr,ua]=De("CheckboxGroupRoot");function B(r){return r==="indeterminate"}function He(r){return B(r)?"indeterminate":r?"checked":"unchecked"}const kr=M({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(r){const a=r,e=pr(),i=qr(),t=A(()=>a.tabStopId||i),u=A(()=>e.currentTabStopId.value===t.value),{getItems:o,CollectionItem:l}=We();Ze(()=>{a.focusable&&e.onFocusableItemAdd()}),Qe(()=>{a.focusable&&e.onFocusableItemRemove()});function f(n){if(n.key==="Tab"&&n.shiftKey){e.onItemShiftTab();return}if(n.target!==n.currentTarget)return;const d=gr(n,e.orientation.value,e.dir.value);if(d!==void 0){if(n.metaKey||n.ctrlKey||n.altKey||!a.allowShiftKey&&n.shiftKey)return;n.preventDefault();let b=[...o().map(m=>m.ref).filter(m=>m.dataset.disabled!=="")];if(d==="last")b.reverse();else if(d==="prev"||d==="next"){d==="prev"&&b.reverse();const m=b.indexOf(n.currentTarget);b=e.loop.value?yr(b,m+1):b.slice(m+1)}Ye(()=>hr(b))}}return(n,d)=>(h(),R(s(l),null,{default:S(()=>[C(s($),{tabindex:u.value?0:-1,"data-orientation":s(e).orientation.value,"data-active":n.active?"":void 0,"data-disabled":n.focusable?void 0:"",as:n.as,"as-child":n.asChild,onMousedown:d[0]||(d[0]=b=>{n.focusable?s(e).onItemFocus(t.value):b.preventDefault()}),onFocus:d[1]||(d[1]=b=>s(e).onItemFocus(t.value)),onKeydown:f},{default:S(()=>[F(n.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[Cr,Ar]=De("CheckboxRoot"),_r=M({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:a}){const e=r,i=a,{forwardRef:t,currentElement:u}=Ge(),o=Rr(null),l=Xe(e,"modelValue",i,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),f=A(()=>(o==null?void 0:o.disabled.value)||e.disabled),n=A(()=>ue(o==null?void 0:o.modelValue.value)?l.value==="indeterminate"?"indeterminate":l.value:Te(o.modelValue.value,e.value));function d(){if(ue(o==null?void 0:o.modelValue.value))l.value=B(l.value)?!0:!l.value;else{const c=[...o.modelValue.value||[]];if(Te(c,e.value)){const q=c.findIndex(y=>ne(y,e.value));c.splice(q,1)}else c.push(e.value);o.modelValue.value=c}}const b=mr(u),m=A(()=>{var c;return e.id&&u.value?(c=document.querySelector(`[for="${e.id}"]`))==null?void 0:c.innerText:void 0});return Ar({disabled:f,state:n}),(c,q)=>{var y,w;return h(),R(Le((y=s(o))!=null&&y.rovingFocus.value?s(kr):s($)),de(c.$attrs,{id:c.id,ref:s(t),role:"checkbox","as-child":c.asChild,as:c.as,type:c.as==="button"?"button":void 0,"aria-checked":s(B)(n.value)?"mixed":n.value,"aria-required":c.required,"aria-label":c.$attrs["aria-label"]||m.value,"data-state":s(He)(n.value),"data-disabled":f.value?"":void 0,disabled:f.value,focusable:(w=s(o))!=null&&w.rovingFocus.value?!f.value:void 0,onKeydown:er(rr(()=>{},["prevent"]),["enter"]),onClick:d}),{default:S(()=>[F(c.$slots,"default",{modelValue:s(l),state:n.value}),s(b)&&c.name&&!s(o)?(h(),R(s(wr),{key:0,type:"checkbox",checked:!!n.value,name:c.name,value:c.value,disabled:f.value,required:c.required},null,8,["checked","name","value","disabled","required"])):O("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),xr=M({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(r){const{forwardRef:a}=Ge(),e=Cr();return(i,t)=>(h(),R(s(ar),{present:i.forceMount||s(B)(s(e).state.value)||s(e).state.value===!0},{default:S(()=>[C(s($),de({ref:s(a),"data-state":s(He)(s(e).state.value),"data-disabled":s(e).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":i.asChild,as:i.as},i.$attrs),{default:S(()=>[F(i.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Vr={slots:{root:"relative flex items-start",container:"flex items-center",base:"rounded-sm ring ring-inset ring-accented overflow-hidden focus-visible:outline-2 focus-visible:outline-offset-2",indicator:"flex items-center justify-center size-full text-inverted",icon:"shrink-0 size-full",wrapper:"w-full",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"focus-visible:outline-primary",indicator:"bg-primary"},secondary:{base:"focus-visible:outline-secondary",indicator:"bg-secondary"},success:{base:"focus-visible:outline-success",indicator:"bg-success"},info:{base:"focus-visible:outline-info",indicator:"bg-info"},warning:{base:"focus-visible:outline-warning",indicator:"bg-warning"},error:{base:"focus-visible:outline-error",indicator:"bg-error"},neutral:{base:"focus-visible:outline-inverted",indicator:"bg-inverted"}},variant:{list:{root:""},card:{root:"border border-muted rounded-lg"}},indicator:{start:{root:"flex-row",wrapper:"ms-2"},end:{root:"flex-row-reverse",wrapper:"me-2"},hidden:{base:"sr-only",wrapper:"text-center"}},size:{xs:{base:"size-3",container:"h-4",wrapper:"text-xs"},sm:{base:"size-3.5",container:"h-4",wrapper:"text-xs"},md:{base:"size-4",container:"h-5",wrapper:"text-sm"},lg:{base:"size-4.5",container:"h-5",wrapper:"text-sm"},xl:{base:"size-5",container:"h-6",wrapper:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}},checked:{true:""}},compoundVariants:[{size:"xs",variant:"card",class:{root:"p-2.5"}},{size:"sm",variant:"card",class:{root:"p-3"}},{size:"md",variant:"card",class:{root:"p-3.5"}},{size:"lg",variant:"card",class:{root:"p-4"}},{size:"xl",variant:"card",class:{root:"p-4.5"}},{color:"primary",variant:"card",class:{root:"has-data-[state=checked]:border-primary"}},{color:"secondary",variant:"card",class:{root:"has-data-[state=checked]:border-secondary"}},{color:"success",variant:"card",class:{root:"has-data-[state=checked]:border-success"}},{color:"info",variant:"card",class:{root:"has-data-[state=checked]:border-info"}},{color:"warning",variant:"card",class:{root:"has-data-[state=checked]:border-warning"}},{color:"error",variant:"card",class:{root:"has-data-[state=checked]:border-error"}},{color:"neutral",variant:"card",class:{root:"has-data-[state=checked]:border-inverted"}},{variant:"card",disabled:!0,class:{root:"cursor-not-allowed opacity-75"}}],defaultVariants:{size:"md",color:"primary",variant:"list",indicator:"start"}},jr=Object.assign({inheritAttrs:!1},{__name:"Checkbox",props:ge({as:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},indicator:{type:null,required:!1},icon:{type:String,required:!1},indeterminateIcon:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},name:{type:String,required:!1},value:{type:[String,Number,Object,null],required:!1},id:{type:String,required:!1},defaultValue:{type:[Boolean,String],required:!1}},{modelValue:{type:[Boolean,String],default:void 0},modelModifiers:{}}),emits:ge(["change"],["update:modelValue"]),setup(r,{emit:a}){const e=r,i=tr(),t=a,u=ir(r,"modelValue",{type:[Boolean,String],default:void 0}),o=or(),l=nr(sr(e,"required","value","defaultValue")),{id:f,emitFormChange:n,emitFormInput:d,size:b,color:m,name:c,disabled:q,ariaAttrs:y}=lr(e),w=f.value??ur(),p=A(()=>{var g;return ye({extend:ye(Vr),...((g=o.ui)==null?void 0:g.checkbox)||{}})({size:b.value,color:m.value,variant:e.variant,indicator:e.indicator,required:e.required,disabled:q.value})});function _(g){const v=new Event("change",{target:{value:g}});t("change",v),n(),d()}return(g,v)=>{var T;return h(),R(s($),{as:!r.variant||r.variant==="list"?r.as:s(we),class:k(p.value.root({class:[(T=e.ui)==null?void 0:T.root,e.class]}))},{default:S(()=>{var x,V,j,fe,be;return[se("div",{class:k(p.value.container({class:(x=e.ui)==null?void 0:x.container}))},[C(s(_r),de({id:s(w)},{...s(l),...g.$attrs,...s(y)},{modelValue:u.value,"onUpdate:modelValue":[v[0]||(v[0]=z=>u.value=z),_],name:s(c),disabled:s(q),class:p.value.base({class:(V=e.ui)==null?void 0:V.base})}),{default:S(({modelValue:z})=>{var ve;return[C(s(xr),{class:k(p.value.indicator({class:(ve=e.ui)==null?void 0:ve.indicator}))},{default:S(()=>{var me,pe;return[z==="indeterminate"?(h(),R(he,{key:0,name:r.indeterminateIcon||s(o).ui.icons.minus,class:k(p.value.icon({class:(me=e.ui)==null?void 0:me.icon}))},null,8,["name","class"])):(h(),R(he,{key:1,name:r.icon||s(o).ui.icons.check,class:k(p.value.icon({class:(pe=e.ui)==null?void 0:pe.icon}))},null,8,["name","class"]))]}),_:2},1032,["class"])]}),_:1},16,["id","modelValue","name","disabled","class"])],2),r.label||i.label||r.description||i.description?(h(),le("div",{key:0,class:k(p.value.wrapper({class:(j=e.ui)==null?void 0:j.wrapper}))},[r.label||i.label?(h(),R(Le(!r.variant||r.variant==="list"?s(we):"p"),{key:0,for:s(w),class:k(p.value.label({class:(fe=e.ui)==null?void 0:fe.label}))},{default:S(()=>[F(g.$slots,"label",{label:r.label},()=>[Se(U(r.label),1)])]),_:3},8,["for","class"])):O("",!0),r.description||i.description?(h(),le("p",{key:1,class:k(p.value.description({class:(be=e.ui)==null?void 0:be.description}))},[F(g.$slots,"description",{description:r.description},()=>[Se(U(r.description),1)])],2)):O("",!0)],2)):O("",!0)]}),_:3},8,["as","class"])}}});var P,Re;function Fr(){if(Re)return P;Re=1;function r(a,e,i){var t=-1,u=a.length;e<0&&(e=-e>u?0:u+e),i=i>u?u:i,i<0&&(i+=u),u=e>i?0:i-e>>>0,e>>>=0;for(var o=Array(u);++t<u;)o[t]=a[t+e];return o}return P=r,P}var K,ke;function Ir(){if(ke)return K;ke=1;var r=Fr();function a(e,i,t){var u=e.length;return t=t===void 0?u:t,!i&&t>=u?e:r(e,i,t)}return K=a,K}var E,Ce;function Je(){if(Ce)return E;Ce=1;var r="\\ud800-\\udfff",a="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",t=a+e+i,u="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+r+t+u+"]");function f(n){return l.test(n)}return E=f,E}var N,Ae;function Or(){if(Ae)return N;Ae=1;function r(a){return a.split("")}return N=r,N}var D,_e;function Ur(){if(_e)return D;_e=1;var r="\\ud800-\\udfff",a="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",t=a+e+i,u="\\ufe0e\\ufe0f",o="["+r+"]",l="["+t+"]",f="\\ud83c[\\udffb-\\udfff]",n="(?:"+l+"|"+f+")",d="[^"+r+"]",b="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",c="\\u200d",q=n+"?",y="["+u+"]?",w="(?:"+c+"(?:"+[d,b,m].join("|")+")"+y+q+")*",p=y+q+w,_="(?:"+[d+l+"?",l,b,m,o].join("|")+")",g=RegExp(f+"(?="+f+")|"+_+p,"g");function v(T){return T.match(g)||[]}return D=v,D}var G,xe;function Br(){if(xe)return G;xe=1;var r=Or(),a=Je(),e=Ur();function i(t){return a(t)?e(t):r(t)}return G=i,G}var L,Ve;function Mr(){if(Ve)return L;Ve=1;var r=typeof I=="object"&&I&&I.Object===Object&&I;return L=r,L}var H,je;function $r(){if(je)return H;je=1;var r=Mr(),a=typeof self=="object"&&self&&self.Object===Object&&self,e=r||a||Function("return this")();return H=e,H}var J,Fe;function ce(){if(Fe)return J;Fe=1;var r=$r(),a=r.Symbol;return J=a,J}var W,Ie;function zr(){if(Ie)return W;Ie=1;function r(a,e){for(var i=-1,t=a==null?0:a.length,u=Array(t);++i<t;)u[i]=e(a[i],i,a);return u}return W=r,W}var Z,Oe;function Pr(){if(Oe)return Z;Oe=1;var r=Array.isArray;return Z=r,Z}var Q,Ue;function Kr(){if(Ue)return Q;Ue=1;var r=ce(),a=Object.prototype,e=a.hasOwnProperty,i=a.toString,t=r?r.toStringTag:void 0;function u(o){var l=e.call(o,t),f=o[t];try{o[t]=void 0;var n=!0}catch{}var d=i.call(o);return n&&(l?o[t]=f:delete o[t]),d}return Q=u,Q}var Y,Be;function Er(){if(Be)return Y;Be=1;var r=Object.prototype,a=r.toString;function e(i){return a.call(i)}return Y=e,Y}var X,Me;function Nr(){if(Me)return X;Me=1;var r=ce(),a=Kr(),e=Er(),i="[object Null]",t="[object Undefined]",u=r?r.toStringTag:void 0;function o(l){return l==null?l===void 0?t:i:u&&u in Object(l)?a(l):e(l)}return X=o,X}var ee,$e;function Dr(){if($e)return ee;$e=1;function r(a){return a!=null&&typeof a=="object"}return ee=r,ee}var re,ze;function Gr(){if(ze)return re;ze=1;var r=Nr(),a=Dr(),e="[object Symbol]";function i(t){return typeof t=="symbol"||a(t)&&r(t)==e}return re=i,re}var ae,Pe;function Lr(){if(Pe)return ae;Pe=1;var r=ce(),a=zr(),e=Pr(),i=Gr(),t=r?r.prototype:void 0,u=t?t.toString:void 0;function o(l){if(typeof l=="string")return l;if(e(l))return a(l,o)+"";if(i(l))return u?u.call(l):"";var f=l+"";return f=="0"&&1/l==-1/0?"-0":f}return ae=o,ae}var te,Ke;function Hr(){if(Ke)return te;Ke=1;var r=Lr();function a(e){return e==null?"":r(e)}return te=a,te}var ie,Ee;function Jr(){if(Ee)return ie;Ee=1;var r=Ir(),a=Je(),e=Br(),i=Hr();function t(u){return function(o){o=i(o);var l=a(o)?e(o):void 0,f=l?l[0]:o.charAt(0),n=l?r(l,1).join(""):o.slice(1);return f[u]()+n}}return ie=t,ie}var oe,Ne;function Wr(){if(Ne)return oe;Ne=1;var r=Jr(),a=r("toUpperCase");return oe=a,oe}var Zr=Wr();const Qr=dr(Zr),Yr={class:"flex flex-col flex-1 w-full"},Xr={class:"flex justify-start px-4 py-3.5 border-b border-accented"},ea={class:"px-4 py-3.5 border-t border-accented text-sm text-muted"},da=M({__name:"table",props:{data:{type:Array,required:!0},key:{type:[String,Number],required:!0},loading:{type:Boolean,required:!0},globalFilter:{type:String,required:!1},rowSelection:{type:Object,required:!1},ref:{type:Object,required:!1},columns:{type:Array,required:!0},getDropdownActions:{type:Function,required:!0}},emits:["update:globalFilter","update:rowSelection"],setup(r,{emit:a}){const e=jr,i=r,t=cr("table"),u=a,o=A(()=>[{id:"select",header:({table:n})=>qe(e,{color:"secondary",modelValue:n.getIsSomePageRowsSelected()?"indeterminate":n.getIsAllPageRowsSelected(),"onUpdate:modelValue":d=>n.toggleAllPageRowsSelected(!!d),"aria-label":"Select all"}),cell:({row:n})=>qe(e,{color:"secondary",modelValue:n.getIsSelected(),"onUpdate:modelValue":d=>n.toggleSelected(!!d),"aria-label":"Select row"})},...i.columns]);function l(n,d){n.toggleSelected(!n.getIsSelected())}const f=fr({id:!1});return(n,d)=>{var q,y,w,p,_,g;const b=br,m=Sr,c=Tr;return h(),le("div",Yr,[se("div",Xr,[C(m,{items:(y=(q=s(t))==null?void 0:q.tableApi)==null?void 0:y.getAllColumns().filter(v=>v.getCanHide()).map(v=>({label:s(Qr)(v.id),type:"checkbox",checked:v.getIsVisible(),onUpdateChecked(T){var x,V,j;(j=(V=(x=s(t))==null?void 0:x.tableApi)==null?void 0:V.getColumn(v.id))==null||j.toggleVisibility(!!T)},onSelect(T){T==null||T.preventDefault()}})),content:{align:"end"}},{default:S(()=>[C(b,{label:"الأعمدة",color:"neutral",variant:"outline","trailing-icon":"i-lucide-chevron-down"})]),_:1},8,["items"])]),(h(),R(c,{ref_key:"table",ref:t,loading:r.loading,key:r.key,"global-filter":r.globalFilter,"row-selection":i.rowSelection,"onUpdate:rowSelection":d[0]||(d[0]=v=>u("update:rowSelection",v)),"column-visibility":s(f),"onUpdate:columnVisibility":d[1]||(d[1]=v=>vr(f)?f.value=v:null),onSelect:l,"onUpdate:globalFilter":d[2]||(d[2]=v=>u("update:globalFilter",v)),data:r.data,columns:s(o)},{"action-cell":S(({row:v})=>[C(m,{items:r.getDropdownActions(v.original)},{default:S(()=>[C(b,{icon:"i-lucide-ellipsis-vertical",color:"neutral",variant:"soft","aria-label":"Actions",class:"p-2"})]),_:2},1032,["items"])]),_:1},8,["loading","global-filter","row-selection","column-visibility","data","columns"])),se("div",ea,U(((p=(w=s(t))==null?void 0:w.tableApi)==null?void 0:p.getFilteredSelectedRowModel().rows.length)||0)+" من "+U(((g=(_=s(t))==null?void 0:_.tableApi)==null?void 0:g.getFilteredRowModel().rows.length)||0)+" صف محدد ",1)])}}});export{da as _};
