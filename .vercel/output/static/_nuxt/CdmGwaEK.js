import{_ as k}from"./BxXEQc89.js";import{_ as B}from"./TqmmhZlW.js";import{_ as j}from"./DJc-qFf6.js";import{k as C,x as P,$ as S,v as h,a2 as q,i as b,w as n,o as c,c as F,j as e,b as o,a as T,Y as I,X as g}from"./Bdt3oPQx.js";import{c as N,b as O,a as u,_ as A}from"./DNUGNUt7.js";import{_ as E}from"./D9_M2GaU.js";import{p as L}from"./CehikpY4.js";import{u as M}from"./CClkhEiv.js";import"./By-TetZO.js";import"./vVQ4po60.js";import"./CHIgUVhi.js";import"./CwNombFT.js";import"./Bp9vj24c.js";import"./CnqViFtj.js";import"./CdmufGkO.js";const R={key:0},X={class:"col-span-2 flex gap-2 mt-5"},ne=C({__name:"edit_payment",async setup(Y){let r,f;const m=M();let s;const v=N({type:u().required("نوع الدفعة مطلوب"),description:u().required("وصف الدفعة مطلوب"),date:u().required("تاريخ الدفعة مطلوب"),amount:O().required("القيمة مطلوبة")}),a=P({id:void 0,type:void 0,description:void 0,date:void 0,amount:void 0}),d=S(),V=h();s=m.getSpecificPayment(+d.params.id),Object.assign(a,s),s||(s=([r,f]=q(()=>m.getPaymentById(+d.params.id)),r=await r,f(),r),Object.assign(a,s),console.log(s));const w=async()=>{await m.updatePayment(+d.params.id,a),g({name:"payments"})};return(_,t)=>{const $=k,i=B,p=j,y=I,U=A,x=E;return c(),b(x,{class:"max-w-3xl mx-auto mt-15"},{default:n(()=>[e(m).loading?(c(),F("div",R,"Loading")):(c(),b(U,{key:1,ref_key:"form",ref:V,schema:e(v),state:e(a),class:"grid grid-cols-2 gap-4",onSubmit:w},{default:n(()=>[o(i,{label:"نوع الدفعة",name:"type"},{default:n(()=>[o($,{items:e(L),modelValue:e(a).type,"onUpdate:modelValue":t[0]||(t[0]=l=>e(a).type=l),placeholder:"نوع الدفعة",label:"نوع الدفعة",class:"w-full"},null,8,["items","modelValue"])]),_:1}),o(i,{label:"تاريخ الدفعة",name:"date"},{default:n(()=>[o(p,{type:"date",modelValue:e(a).date,"onUpdate:modelValue":t[1]||(t[1]=l=>e(a).date=l),placeholder:"تاريخ الدفعة",label:"تاريخ الدفعة",class:"w-full"},null,8,["modelValue"])]),_:1}),o(i,{label:"القيمة",name:"value"},{default:n(()=>[o(p,{type:"number",modelValue:e(a).amount,"onUpdate:modelValue":t[2]||(t[2]=l=>e(a).amount=l),modelModifiers:{number:!0},placeholder:"القيمة",label:"القيمة",class:"w-full"},null,8,["modelValue"])]),_:1}),o(i,{label:"وصف الدفعة",name:"description"},{default:n(()=>[o(p,{modelValue:e(a).description,"onUpdate:modelValue":t[3]||(t[3]=l=>e(a).description=l),placeholder:"وصف الدفعة",label:"وصف الدفعة",class:"w-full"},null,8,["modelValue"])]),_:1}),T("div",X,[o(y,{type:"submit",class:"flex w-40 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",label:"تعديل",loading:e(m).loading},null,8,["loading"]),o(y,{variant:"soft",class:"flex w-20 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",onClick:t[4]||(t[4]=l=>("navigateTo"in _?_.navigateTo:e(g))({name:"payments"})),label:"إلغاء"})])]),_:1},8,["schema","state"]))]),_:1})}}});export{ne as default};
