import{_ as $}from"./BxXEQc89.js";import{_ as U}from"./TqmmhZlW.js";import{_ as g}from"./DJc-qFf6.js";import{k as T,$ as k,v as S,x as q,i as A,w as l,o as B,b as s,j as e,a as C,Y as j,X as f}from"./Bdt3oPQx.js";import{c as F,a as i,_ as I}from"./DNUGNUt7.js";import{_ as N}from"./D9_M2GaU.js";import{u as X}from"./rVIyH-S1.js";import"./By-TetZO.js";import"./vVQ4po60.js";import"./CHIgUVhi.js";import"./CwNombFT.js";import"./Bp9vj24c.js";import"./CnqViFtj.js";import"./CdmufGkO.js";const Y={class:"col-span-2 flex gap-2 mt-5"},ee=T({__name:"edit_absence_report",setup(z){const r=X(),c=k(),b=S(),u=Array.isArray(c.params.id)?c.params.id[0]:c.params.id??"",x=["بعذر","بغير عذر"],y=F({reason:i(),date:i().required("التاريخ مطلوب"),excuse_status:i().required("حالة العذر مطلوبة")}),a=r.getSpesificTeacherAbsenceReport(+u),o=q({reason:a==null?void 0:a.reason,date:a==null?void 0:a.date,excuse_status:a==null?void 0:a.excuse_status}),v=async()=>{await r.editTeacherAbsenceReport(+u,o),f({name:"teachers-view-absence"})};return(d,t)=>{const h=$,m=U,p=g,_=j,w=I,V=N;return B(),A(V,{class:"max-w-3xl mx-auto mt-15"},{default:l(()=>[s(w,{ref_key:"form",ref:b,schema:e(y),state:e(o),class:"grid grid-cols-2 gap-4",onSubmit:v},{default:l(()=>[s(m,{label:"حالة العذر",name:"excuse_status",required:""},{default:l(()=>[s(h,{items:x,modelValue:e(o).excuse_status,"onUpdate:modelValue":t[0]||(t[0]=n=>e(o).excuse_status=n),placeholder:"أدخل حالة العذر...",label:"حالة العذر",class:"w-full mt-2"},null,8,["modelValue"])]),_:1}),s(m,{label:"التاريخ",name:"date",required:""},{default:l(()=>[s(p,{type:"date",modelValue:e(o).date,"onUpdate:modelValue":t[1]||(t[1]=n=>e(o).date=n),placeholder:"أدخل التاريخ...",label:"التاريخ",class:"w-full mt-2",icon:"heroicons-calendar-days-solid"},null,8,["modelValue"])]),_:1}),s(m,{label:"سبب الغياب",name:"reason"},{default:l(()=>[s(p,{modelValue:e(o).reason,"onUpdate:modelValue":t[2]||(t[2]=n=>e(o).reason=n),placeholder:"أدخل سبب الغياب...",label:"سبب الغياب",class:"w-full mt-2"},null,8,["modelValue"])]),_:1}),C("div",Y,[s(_,{type:"submit",class:"flex w-40 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",label:"تعديل",loading:e(r).loading},null,8,["loading"]),s(_,{variant:"soft",class:"flex w-20 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",onClick:t[3]||(t[3]=n=>("navigateTo"in d?d.navigateTo:e(f))({name:"teachers-view-teachers_table"})),label:"إلغاء"})])]),_:1},8,["schema","state"])]),_:1})}}});export{ee as default};
