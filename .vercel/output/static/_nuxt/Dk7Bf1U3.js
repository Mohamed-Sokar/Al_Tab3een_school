import{_ as U}from"./DJc-qFf6.js";import{_ as $}from"./TqmmhZlW.js";import{_ as h}from"./BxXEQc89.js";import{k as G,x as M,$ as S,v as f,i as k,w as n,o as T,b as o,j as l,a as j,Y as B,X as b}from"./Bdt3oPQx.js";import{c as C,a as R,b as s,_ as F}from"./DNUGNUt7.js";import{_ as I}from"./D9_M2GaU.js";import{g as u,b as N}from"./CehikpY4.js";import{u as A}from"./CnqViFtj.js";import"./CwNombFT.js";import"./By-TetZO.js";import"./vVQ4po60.js";import"./CHIgUVhi.js";import"./Bp9vj24c.js";const L={class:"col-span-2 flex gap-2 mt-5"},le=G({__name:"edit_grades_report",setup(O){const _=C({arabic:s().required("اللغة العربية مطلوبة"),math:s().required("الرياضيات مطلوبة"),science:s().required("العلوم مطلوب"),quran:s().required("القرآن مطلوب"),english:s().required("اللغة الإنجليزية مطلوبة"),maxmumGrade:s().required("النهاية القصوى مطلوبة"),minmumGrade:s().required("النهاية الدنيا مطلوبة"),type:R().required("نوع الكشف مطلوب")}),e=M({id:void 0,student_name:void 0,level:void 0,section:void 0,arabic:void 0,math:void 0,science:void 0,quran:void 0,english:void 0,maxmumGrade:void 0,minmumGrade:void 0,average:void 0,type:void 0}),p=S(),{toastSuccess:g}=A(),i=f(!1),v=f(),V=u.find(d=>d.id.toString()===p.params.id.toString());Object.assign(e,V);const y=async()=>{i.value=!0;const d=u.findIndex(a=>a.id.toString()===p.params.id.toString());u[d]={...e,average:`${((e==null?void 0:e.arabic)+(e==null?void 0:e.math)+(e==null?void 0:e.science)+(e==null?void 0:e.quran)+(e==null?void 0:e.english))/5}%`},setTimeout(()=>{i.value=!1,g({title:"تم تحديث كشف الدرجات بنجاح"}),b("/students/view/grades")},500)};return(d,a)=>{const t=U,m=$,w=h,c=B,x=F,q=I;return T(),k(q,{class:"max-w-3xl mx-auto mt-15"},{default:n(()=>[o(x,{ref_key:"form",ref:v,schema:l(_),state:l(e),class:"grid grid-cols-2 gap-4",onSubmit:y},{default:n(()=>[o(m,{label:"النهاية القصوى",name:"maxmumGrade"},{default:n(()=>[o(t,{type:"number",modelValue:l(e).maxmumGrade,"onUpdate:modelValue":a[0]||(a[0]=r=>l(e).maxmumGrade=r),modelModifiers:{number:!0},placeholder:"النهاية القصوى",label:"النهاية القصوى",class:"w-full"},null,8,["modelValue"])]),_:1}),o(m,{label:"النهاية الدنيا",name:"minmumGrade"},{default:n(()=>[o(t,{type:"number",modelValue:l(e).minmumGrade,"onUpdate:modelValue":a[1]||(a[1]=r=>l(e).minmumGrade=r),modelModifiers:{number:!0},placeholder:"النهاية الدنيا",label:"النهاية الدنيا",class:"w-full"},null,8,["modelValue"])]),_:1}),o(m,{label:"اللغة العربية",name:"arabic"},{default:n(()=>[o(t,{type:"number",modelValue:l(e).arabic,"onUpdate:modelValue":a[2]||(a[2]=r=>l(e).arabic=r),modelModifiers:{number:!0},placeholder:"اللغة العربية",label:"اللغة العربية",class:"w-full"},null,8,["modelValue"])]),_:1}),o(m,{label:"اللغة الإنجليزية",name:"english"},{default:n(()=>[o(t,{type:"number",modelValue:l(e).english,"onUpdate:modelValue":a[3]||(a[3]=r=>l(e).english=r),modelModifiers:{number:!0},placeholder:"اللغة الإنجليزية",label:"اللغة الإنجليزية",class:"w-full"},null,8,["modelValue"])]),_:1}),o(m,{label:"رياضيات",name:"math"},{default:n(()=>[o(t,{type:"number",modelValue:l(e).math,"onUpdate:modelValue":a[4]||(a[4]=r=>l(e).math=r),modelModifiers:{number:!0},placeholder:"رياضيات",label:"رياضيات",class:"w-full"},null,8,["modelValue"])]),_:1}),o(m,{label:"علوم",name:"science"},{default:n(()=>[o(t,{type:"number",modelValue:l(e).science,"onUpdate:modelValue":a[5]||(a[5]=r=>l(e).science=r),modelModifiers:{number:!0},placeholder:"علوم",label:"علوم",class:"w-full"},null,8,["modelValue"])]),_:1}),o(m,{label:"قرآن",name:"quran"},{default:n(()=>[o(t,{type:"number",modelValue:l(e).quran,"onUpdate:modelValue":a[6]||(a[6]=r=>l(e).quran=r),modelModifiers:{number:!0},placeholder:"قرآن",label:"قرآن",class:"w-full"},null,8,["modelValue"])]),_:1}),o(m,{label:"نوع الكشف",name:"type"},{default:n(()=>[o(w,{modelValue:l(e).type,"onUpdate:modelValue":a[7]||(a[7]=r=>l(e).type=r),items:l(N),placeholder:"نوع الكشف",label:"نوع الكشف",class:"w-full"},null,8,["modelValue","items"])]),_:1}),j("div",L,[o(c,{type:"submit",class:"flex w-40 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",label:"تعديل",loading:l(i)},null,8,["loading"]),o(c,{variant:"soft",class:"flex w-20 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",onClick:a[8]||(a[8]=r=>("navigateTo"in d?d.navigateTo:l(b))("/students/view/grades")),label:"إلغاء"})])]),_:1},8,["schema","state"])]),_:1})}}});export{le as default};
