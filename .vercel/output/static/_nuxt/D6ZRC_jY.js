import{_ as h}from"./BxXEQc89.js";import{_ as V}from"./TqmmhZlW.js";import{_ as $}from"./DJc-qFf6.js";import{k as U,$ as S,v as T,x as k,i as q,w as r,o as B,b as a,j as e,a as C,Y as j,X as _}from"./Bdt3oPQx.js";import{c as A,a as c,_ as F}from"./DNUGNUt7.js";import{_ as I}from"./D9_M2GaU.js";import{u as N}from"./rVIyH-S1.js";import"./By-TetZO.js";import"./vVQ4po60.js";import"./CHIgUVhi.js";import"./CwNombFT.js";import"./Bp9vj24c.js";import"./CnqViFtj.js";import"./CdmufGkO.js";const R={class:"col-span-2 flex gap-2 mt-5"},Z=U({__name:"add_absence_report",setup(D){const m=N(),l=S(),f=T(),b=Array.isArray(l.params.id)?l.params.id[0]:l.params.id??"",i=["بعذر","بغير عذر"],x=A({reason:c(),date:c().required("التاريخ مطلوب"),excuse_status:c().required("حالة العذر مطلوبة")}),o=k({reason:void 0,date:new Date().toISOString().split("T")[0],excuse_status:i[0]}),g=async()=>{await m.addTeacherAbsenceReport(b,o),_({name:"teachers-view-absence"})};return(d,t)=>{const v=h,n=V,u=$,p=j,y=F,w=I;return B(),q(w,{class:"max-w-3xl mx-auto mt-15"},{default:r(()=>[a(y,{ref_key:"form",ref:f,schema:e(x),state:e(o),class:"grid grid-cols-2 gap-4",onSubmit:g},{default:r(()=>[a(n,{label:"حالة العذر",name:"excuse_status",required:""},{default:r(()=>[a(v,{items:i,modelValue:e(o).excuse_status,"onUpdate:modelValue":t[0]||(t[0]=s=>e(o).excuse_status=s),placeholder:"أدخل حالة العذر...",label:"حالة العذر",class:"w-full mt-2"},null,8,["modelValue"])]),_:1}),a(n,{label:"التاريخ",name:"date",required:""},{default:r(()=>[a(u,{type:"date",modelValue:e(o).date,"onUpdate:modelValue":t[1]||(t[1]=s=>e(o).date=s),placeholder:"أدخل التاريخ...",label:"التاريخ",class:"w-full mt-2",icon:"heroicons-calendar-days-solid"},null,8,["modelValue"])]),_:1}),a(n,{label:"سبب الغياب",name:"reason"},{default:r(()=>[a(u,{modelValue:e(o).reason,"onUpdate:modelValue":t[2]||(t[2]=s=>e(o).reason=s),placeholder:"أدخل سبب الغياب...",label:"سبب الغياب",class:"w-full mt-2"},null,8,["modelValue"])]),_:1}),C("div",R,[a(p,{type:"submit",class:"flex w-40 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",label:"إضافة",loading:e(m).loading},null,8,["loading"]),a(p,{variant:"soft",class:"flex w-20 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",onClick:t[3]||(t[3]=s=>("navigateTo"in d?d.navigateTo:e(_))({name:"teachers-view-teachers_table"})),label:"إلغاء"})])]),_:1},8,["schema","state"])]),_:1})}}});export{Z as default};
