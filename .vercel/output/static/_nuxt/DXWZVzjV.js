import{k as _,i as g,o as d,w as m,a as e,b as o,l as h,t as r,n as w,Y as x,j as u,X as v,g as C,c as f,G as k,H as $,d as j}from"./Bdt3oPQx.js";import{_ as B}from"./HuR9QTfO.js";import{_ as S}from"./Bn0lJZWP.js";import{_ as T}from"./D9_M2GaU.js";import{u as U}from"./D8k5ZMmC.js";import{u as D}from"./BV0LrqSL.js";import"./CnqViFtj.js";import"./CdmufGkO.js";import"./CehikpY4.js";const L={class:"flex justify-between"},N={class:"flex items-center gap-1"},V={class:"text-secondary-600 font-semibold"},z={class:"flex flex-col gap-5 mt-5"},H={class:"flex justify-between items-center px-4 py-2 rounded-sm bg-gray-50 dark:bg-secondary-950"},q={class:"flex items-center gap-1"},E={class:"font-bold text-secondary-600"},F={class:"flex justify-between items-center px-4 py-2 rounded-sm bg-gray-50 dark:bg-secondary-950"},G={class:"flex items-center gap-1"},I={class:"text-error text-sm flex items-center gap-1"},W={class:"font-bold"},X={class:"flex justify-between items-center px-4 py-2 rounded-sm bg-gray-50 dark:bg-secondary-950"},Y={class:"flex items-center gap-1"},A={class:"text-warning text-sm flex items-center gap-1"},J={class:"font-bold"},K={class:"flex justify-between items-center px-4 py-2 rounded-sm bg-gray-50 dark:bg-secondary-950"},M={class:"flex items-center gap-1"},O={class:"font-bold"},P={class:"grid grid-cols-4 gap-2 text-center"},Q=_({__name:"card",props:{level:{}},setup(b){return(t,s)=>{const n=h,a=S,l=x,i=T;return d(),g(i,{class:"h-full border-t-4 border-secondary hover:shadow-xl transition-all"},{default:m(()=>[e("div",L,[e("div",N,[o(n,{name:"heroicons-academic-cap-16-solid",class:"text-secondary w-8 h-8"}),e("span",V,r(t.level.title),1)]),e("div",null,[o(a,{label:`${t.level.studentsCount} طالب`,variant:"soft",color:"secondary",class:"text-secondary-600 font-bold"},null,8,["label"])])]),e("div",z,[e("div",H,[e("div",q,[o(n,{name:"heroicons-user-group-solid",class:"text-secondary w-5 h-5"}),s[2]||(s[2]=e("span",{class:"text-xs font-bold"},"عدد الطلاب",-1))]),e("div",E,r(t.level.studentsCount),1)]),e("div",F,[e("div",G,[o(n,{name:"i-heroicons-user-group-solid",class:"text-error w-5 h-5"}),s[3]||(s[3]=e("span",{class:"text-xs font-bold"},"السعة القصوى",-1))]),e("div",I,[e("div",W,r(t.level.maximum_capacity),1),s[4]||(s[4]=e("div",{class:"font-semibold"},"طالب",-1))])]),e("div",X,[e("div",Y,[o(n,{name:"heroicons-currency-dollar-20-solid",class:"text-warning w-5 h-5"}),s[5]||(s[5]=e("span",{class:"text-xs font-bold"},"الرسوم الشهرية",-1))]),e("div",A,[e("div",J,r(t.level.fees),1),s[6]||(s[6]=e("div",{class:"font-semibold"},"شيكل",-1))])]),e("div",K,[e("div",M,[o(n,{name:"i-heroicons-cube",class:"text-gray-400 w-5 h-5"}),s[7]||(s[7]=e("span",{class:"text-xs font-bold"},"المقاعد الفارغة",-1))]),e("div",{class:w(["text-sm flex items-center gap-1",`text-${(t.level.maximum_capacity??0)-(t.level.studentsCount??0)>0?"success":"error"}`])},[e("div",O,r((t.level.maximum_capacity??0)-(t.level.studentsCount??0)),1),s[8]||(s[8]=e("div",{class:"font-semibold"},"مقعد",-1))],2)]),e("div",P,[o(l,{label:"عرض الطلاب",class:"hover:cursor-pointer col-span-3 flex justify-center",color:"secondary",variant:"subtle",onClick:s[0]||(s[0]=c=>("navigateTo"in t?t.navigateTo:u(v))({name:"students-view-students_table",query:{level:t.level.title}}))}),o(l,{label:"تعديل",class:"hover:cursor-pointer flex justify-center",color:"secondary",variant:"solid",onClick:s[1]||(s[1]=c=>("navigateTo"in t?t.navigateTo:u(v))({name:"levels-id-edit_level",params:{id:t.level.id}}))})])])]),_:1})}}}),R={class:"grid lg:grid-cols-3 gap-4 mt-5"},re=_({__name:"index",setup(b){const t=U(),s=D(),n=C(()=>t.levelsData.map(a=>{const l=s.studentsData.filter(i=>i.level===a.title).length;return{...a,studentsCount:l}}));return(a,l)=>{const i=x,c=B,y=Q;return d(),f("div",null,[o(c,{title:"المستويات",description:"إدارة المراحل التعليمية والصفوف الدراسية"},{actions:m(()=>[o(i,{icon:"heroicons-plus-circle-20-solid",size:"md",color:"secondary",class:"bg-blue-600 px-3 py-2 font-bold",variant:"solid",to:"/levels/add"},{default:m(()=>l[0]||(l[0]=[j("إضافة مستوى جديد")])),_:1,__:[0]})]),_:1}),e("div",R,[(d(!0),f(k,null,$(u(n),p=>(d(),g(y,{key:p.id,level:p},null,8,["level"]))),128))])])}}});export{re as default};
