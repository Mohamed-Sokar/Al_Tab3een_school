import{_ as k}from"./DJc-qFf6.js";import{_ as B}from"./BxXEQc89.js";import{k as L,v as u,g as h,c as y,o as f,a as n,i as N,b as l,j as t,a0 as p,Y as T,w as c,t as v,X as z,_ as A}from"./Bdt3oPQx.js";import{_ as E}from"./Dlsi226R.js";import{_ as F}from"./1rqy2HNY.js";import{m as _}from"./CehikpY4.js";import{u as j}from"./rVIyH-S1.js";import{u as C}from"./YhHHmAl6.js";import"./By-TetZO.js";import"./vVQ4po60.js";import"./CHIgUVhi.js";import"./Bp9vj24c.js";import"./CnqViFtj.js";import"./CdmufGkO.js";const I={class:"w-full grid md:grid-cols-6 gap-3 mt-5"},O={class:"flex items-center justify-end gap-2 mt-8 mb-2"},P=L({__name:"loans",setup(w){const{getArabicDayName:g}=C(),r=j(),s=u(""),b=u(Math.random()),x=new Date().getMonth(),i=u(_[x]),D=[{accessorKey:"rowNumber",header:"الرقم"},{accessorKey:"teacher_name",header:"اسم المعلم"},{accessorKey:"date",header:"اليوم",cell:({row:o})=>g(String(o.original.date))},{accessorKey:"date",header:"تاريخ السلفة"},{accessorKey:"amount",header:"قيمة السلفة"},{id:"action"}];function U(o){return[[{label:"Edit",icon:"i-lucide-edit",onSelect:()=>{z(`/teachers/${o.id}/edit_loan`)}},{label:"Delete",icon:"i-lucide-trash",color:"error",onSelect:()=>{r.deleteTeacherLoan(typeof o.id=="number"?o.id:0)}}]]}const V=h(()=>(b.value=Math.random(),r.sortedLoans.filter(o=>new Date(o.date||new Date).getMonth()===_.indexOf(i.value)))),d=h(()=>V.value.map((o,e)=>({...o,rowNumber:e+1})));return(o,e)=>{const M=k,S=B,m=T,$=E,K=F;return f(),y("div",null,[n("div",I,[l(M,{icon:"i-lucide-search",size:"lg",color:"secondary",variant:"outline",modelValue:t(s),"onUpdate:modelValue":e[0]||(e[0]=a=>p(s)?s.value=a:null),placeholder:"البحث عن معلم...",class:"w-full md:col-span-4"},null,8,["modelValue"]),l(S,{modelValue:t(i),"onUpdate:modelValue":e[1]||(e[1]=a=>p(i)?i.value=a:null),items:t(_),size:"lg",color:"secondary",class:"w-full"},null,8,["modelValue","items"])]),n("div",O,[l(m,{icon:"heroicons-document-chart-bar-solid",variant:"outline",color:"secondary",size:"sm",class:"p-2 font-bold text-blue-700"},{default:c(()=>[e[3]||(e[3]=n("span",null,"تصدير",-1)),n("span",null,"("+v(t(d).length)+")",1),e[4]||(e[4]=n("span",null," PDF ",-1))]),_:1,__:[3,4]}),l(m,{icon:"heroicons-document-chart-bar-solid",variant:"outline",color:"primary",size:"sm",class:"p-2 font-bold text-green-700"},{default:c(()=>[e[5]||(e[5]=n("span",null,"تصدير",-1)),n("span",null,"("+v(t(d).length)+")",1),e[6]||(e[6]=n("span",null," Excel ",-1))]),_:1,__:[5,6]})]),(f(),N(K,{loading:t(r).loading,key:t(b),"global-filter":t(s),"onUpdate:globalFilter":e[2]||(e[2]=a=>p(s)?s.value=a:null),ref:"table",data:t(d),columns:D},{"action-cell":c(({row:a})=>[l($,{items:U(a.original)},{default:c(()=>[l(m,{icon:"i-lucide-ellipsis-vertical",color:"neutral",variant:"soft","aria-label":"Actions",class:"p-2"})]),_:2},1032,["items"])]),_:1},8,["loading","global-filter","data"]))])}}}),R={};function X(w,g){const r=P;return f(),y("div",null,[l(r)])}const se=A(R,[["render",X]]);export{se as default};
