import{_ as y}from"./DJc-qFf6.js";import{_ as $}from"./TqmmhZlW.js";import{k as w,v as x,$ as T,x as U,i as k,w as m,o as V,b as e,j as o,a as B,Y as C,X as u}from"./Bdt3oPQx.js";import{c as S,b as j,_ as F}from"./DNUGNUt7.js";import{_ as I}from"./D9_M2GaU.js";import{u as N}from"./rVIyH-S1.js";import"./CwNombFT.js";import"./Bp9vj24c.js";import"./CnqViFtj.js";import"./CdmufGkO.js";const q={class:"col-span-2 flex gap-2 mt-5"},J=w({__name:"edit_loan",setup(A){const s=N(),f=x(),n=T(),c=n.params.id instanceof Array?n.params.id[0]:n.params.id??0,r=s.getSpesificTeacherLoan(+c),d=S({amount:j().required("قيمة السلفة مطلوبة")}),a=U({amount:r==null?void 0:r.amount}),_=()=>{s.editTeacherLoan(+c,a.amount||0),u({name:"teachers-view-loans"})};return(l,t)=>{const b=y,g=$,i=C,v=F,h=I;return V(),k(h,{class:"max-w-3xl mx-auto mt-15"},{default:m(()=>[e(v,{ref_key:"form",ref:f,schema:o(d),state:o(a),class:"grid grid-cols-1 gap-4",onSubmit:_},{default:m(()=>[e(g,{label:"قيمة السلفة",name:"amount"},{default:m(()=>[e(b,{type:"number",modelValue:o(a).amount,"onUpdate:modelValue":t[0]||(t[0]=p=>o(a).amount=p),modelModifiers:{number:!0},placeholder:"أدخل قيمة السلفة",label:"إضافة سلفة",class:"w-full mt-2"},null,8,["modelValue"])]),_:1}),B("div",q,[e(i,{type:"submit",class:"flex w-40 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",label:"تعديل",loading:o(s).loading},null,8,["loading"]),e(i,{variant:"soft",class:"flex w-20 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",onClick:t[1]||(t[1]=p=>("navigateTo"in l?l.navigateTo:o(u))({name:"teachers-view-loans"})),label:"إلغاء"})])]),_:1},8,["schema","state"])]),_:1})}}});export{J as default};
