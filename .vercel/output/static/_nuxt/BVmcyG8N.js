import{_ as q}from"./BxXEQc89.js";import{_ as U}from"./TqmmhZlW.js";import{_ as S}from"./DJc-qFf6.js";import{k,x as T,$ as j,v as B,i as A,w as t,o as F,b as o,j as e,a as I,Y as N,X as w}from"./Bdt3oPQx.js";import{c as h,b as M,a as c,_ as O}from"./DNUGNUt7.js";import{_ as Q}from"./D9_M2GaU.js";import{l as R,d as X,e as Y,f as z}from"./CehikpY4.js";import{u as D}from"./BXPk3F4g.js";import{u as E}from"./Cjavoy-t.js";import"./By-TetZO.js";import"./vVQ4po60.js";import"./CHIgUVhi.js";import"./CwNombFT.js";import"./Bp9vj24c.js";import"./BV0LrqSL.js";import"./CnqViFtj.js";import"./CdmufGkO.js";const G={class:"md:col-span-2 flex flex-wrap gap-2 mt-5"},ue=k({__name:"edit_class",setup(H){const u=D(),p=E(),b=h({title:c().required("الصف الدراسي مطلوب"),wing:c().required("الجهة مطلوبة"),floor:c().required("الطابق مطلوب"),group:c().required("الطابق مطلوب"),maximum_capacity:M().required("السعة القصوى مطلوبة")}),a=T({title:void 0,maximum_capacity:void 0,wing:void 0,floor:void 0,group:void 0}),i=j(),d=i.query.classType,f=d==="academic",y=B(),m=i.params.id instanceof Array?+i.params.id[0]:+i.params.id,v=f?u.getSpecificClass(m):p.getSpecificClass(m);Object.assign(a,v);const V=async()=>{f?await u.updateClass(m,{...a}):await p.updateClass(m,{...a}),w({name:`classes-view-${d}_classes`})};return(_,s)=>{const n=q,r=U,x=S,g=N,C=O,$=Q;return F(),A($,{class:"max-w-3xl mx-auto mt-15"},{default:t(()=>[o(C,{ref_key:"form",ref:y,schema:e(b),state:e(a),class:"grid grid-cols-1 md:grid-cols-2 gap-y-1 gap-x-4",onSubmit:V},{default:t(()=>[o(r,{required:"",label:"الصف الدراسي",name:"title"},{default:t(()=>[o(n,{items:e(R),modelValue:e(a).title,"onUpdate:modelValue":s[0]||(s[0]=l=>e(a).title=l),placeholder:"الصف الدراسي",label:"الصف الدراسي",class:"w-full"},null,8,["items","modelValue"])]),_:1}),o(r,{required:"",label:"الشعبة",name:"group"},{default:t(()=>[o(n,{items:e(X),modelValue:e(a).group,"onUpdate:modelValue":s[1]||(s[1]=l=>e(a).group=l),placeholder:"الشعبة",label:"الشعبة",class:"w-full"},null,8,["items","modelValue"])]),_:1}),o(r,{required:"",label:"السعة القصوى",name:"maximum_capacity"},{default:t(()=>[o(x,{type:"number",modelValue:e(a).maximum_capacity,"onUpdate:modelValue":s[2]||(s[2]=l=>e(a).maximum_capacity=l),modelModifiers:{number:!0},placeholder:"السعة القصوى",label:"السعة القصوى",class:"w-full"},null,8,["modelValue"])]),_:1}),o(r,{required:"",label:"الطابق",name:"floor"},{default:t(()=>[o(n,{items:e(Y),modelValue:e(a).floor,"onUpdate:modelValue":s[3]||(s[3]=l=>e(a).floor=l),placeholder:"الطابق",label:"الطابق",class:"w-full"},null,8,["items","modelValue"])]),_:1}),o(r,{required:"",label:"الجهة",name:"wing"},{default:t(()=>[o(n,{items:e(z),modelValue:e(a).wing,"onUpdate:modelValue":s[4]||(s[4]=l=>e(a).wing=l),placeholder:"الجهة",label:"الجهة",class:"w-full"},null,8,["items","modelValue"])]),_:1}),I("div",G,[o(g,{type:"submit",class:"flex w-full md:w-40 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",loading:e(u).loading,label:"تعديل"},null,8,["loading"]),o(g,{variant:"soft",class:"flex w-full md:w-20 py-2 justify-center font-bold lg:col-span-2 hover:cursor-pointer",color:"secondary",onClick:s[5]||(s[5]=l=>("navigateTo"in _?_.navigateTo:e(w))({name:`classes-view-${e(d)}_classes`})),label:"إلغاء"})])]),_:1},8,["schema","state"])]),_:1})}}});export{ue as default};
